<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>IP Subnet Calculator | UsedToTools</title>
<meta name="description" content="Free IP subnet calculator. Calculate network address, broadcast address, subnet mask, and usable hosts instantly.">
<meta name="keywords" content="IP Subnet Calculator, CIDR Calculator, Network Calculator">

<link rel="stylesheet" href="../style.css">

<style>
.tool-box {
  background: var(--surface-color);
  border: 1px solid var(--border-color);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 20px;
}

input {
  width: 100%;
  padding: 12px;
  border-radius: var(--radius);
  border: 1px solid var(--border-color);
  background: var(--bg-color);
  color: var(--text-color);
}

.form-group { margin-bottom: 15px; }

.btn {
  padding: 10px 16px;
  border-radius: var(--radius);
  border: none;
  cursor: pointer;
  background: var(--primary-color);
  color: #fff;
}

.result-box {
  margin-top: 20px;
  font-family: monospace;
}

.result-box div {
  margin-bottom: 6px;
}
</style>
</head>

<body>

<header class="header">
  <div class="container header-inner">
    <a href="../index.html" class="logo">
      <span class="logo-text">UsedToTools</span>
    </a>

    <nav class="nav">
      <a href="../index.html">Home</a>
      <a href="../about.html">About</a>
    </nav>

    <button class="theme-toggle" id="themeToggle">üåô Night</button>
  </div>
</header>

<section class="section">
<div class="container page-layout">

<div class="left-column">

<h1 class="section-title">IP Subnet Calculator</h1>
<p class="section-desc">
Calculate subnet mask, network range, and usable hosts from an IP address.
</p>

<div class="tool-box">

<div class="form-group">
<label><strong>IP Address</strong></label>
<input id="ip" placeholder="e.g. 192.168.1.10">
</div>

<div class="form-group">
<label><strong>CIDR Prefix</strong></label>
<input id="cidr" placeholder="e.g. 24">
</div>

<button class="btn" onclick="calculate()">Calculate</button>

<div class="result-box" id="results"></div>

</div>

<section class="content-section">
<h2>What is Subnetting?</h2>
<p>
Subnetting divides an IP network into smaller logical networks to improve
performance and security.
</p>
</section>

</div>

<aside class="right-column">
<h2 class="section-title">Developer Tools</h2>
<div class="quick-links">
  <a href="json.html">JSON Formatter</a>
  <a href="base64.html">Base64 Encoder / Decoder</a>
  <a href="numberbase.html">Number Base Converter</a>
  <a href="hash.html">Hash Generator</a>
  <a href="timesmp.html">Timestamp Converter</a>
  <a href="uuid.html">UUID Generator</a>
</div>
</aside>

</div>
</section>

<footer class="footer">
  <p>¬© 2026 UsedToTools ¬∑ IP Subnet Calculator</p>
</footer>

<script>
function ipToInt(ip) {
  return ip.split('.').reduce((acc, oct) => (acc << 8) + Number(oct), 0) >>> 0;
}

function intToIp(int) {
  return [24,16,8,0].map(b => (int >> b) & 255).join('.');
}

function calculate() {
  const ip = document.getElementById("ip").value;
  const cidr = parseInt(document.getElementById("cidr").value);
  const out = document.getElementById("results");

  if (!ip || cidr < 0 || cidr > 32) {
    out.innerHTML = "Invalid input";
    return;
  }

  const ipInt = ipToInt(ip);
  const mask = cidr === 0 ? 0 : (~0 << (32 - cidr)) >>> 0;
  const network = ipInt & mask;
  const broadcast = network | (~mask >>> 0);
  const totalHosts = Math.pow(2, 32 - cidr);
  const usableHosts = cidr >= 31 ? 0 : totalHosts - 2;

  out.innerHTML = `
    <div>Subnet Mask: ${intToIp(mask)}</div>
    <div>Network Address: ${intToIp(network)}</div>
    <div>Broadcast Address: ${intToIp(broadcast)}</div>
    <div>First Usable IP: ${usableHosts ? intToIp(network + 1) : "N/A"}</div>
    <div>Last Usable IP: ${usableHosts ? intToIp(broadcast - 1) : "N/A"}</div>
    <div>Total Hosts: ${totalHosts}</div>
    <div>Usable Hosts: ${usableHosts}</div>
  `;
}

(function() {
    const root = document.documentElement;
    const toggleBtn = document.getElementById('themeToggle');

    // Default theme if none is saved
    const defaultTheme = 'light';

    // Apply saved theme or default
    const savedTheme = localStorage.getItem('theme') || defaultTheme;
    root.setAttribute('data-theme', savedTheme);
    toggleBtn.textContent = savedTheme === 'night' ? '‚òÄÔ∏è Day' : 'üåô Night';

    // Toggle function
    toggleBtn.addEventListener('click', () => {
      const current = root.getAttribute('data-theme');
      const next = current === 'night' ? 'light' : 'night';

      root.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      toggleBtn.textContent = next === 'night' ? '‚òÄÔ∏è Day' : 'üåô Night';
    });

    // Optional: Watch for system preference and apply if first visit
    // const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    // if (!localStorage.getItem('theme')) {
    //   const initial = prefersDark ? 'night' : 'light';
    //   root.setAttribute('data-theme', initial);
    //   toggleBtn.textContent = initial === 'night' ? '‚òÄÔ∏è Day' : 'üåô Night';
    // }
  })();
</script>

</body>
</html>
