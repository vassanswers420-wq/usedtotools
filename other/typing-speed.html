<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Typing Speed Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../style.css">
</head>
<body>
<header class="site-header">
  <a href="../index.html" class="logo">
    <img src="../images/logo.png" alt="UsedToTools Logo">
  </a>
  <h1 class="site-title">UsedToTools</h1>
</header>
<h1>Typing Speed Test</h1>

<div class="page-layout">

  <div class="left-column">
    <main class="main-area">

      <div class="calculator">
        <p class="title">Test Your Typing Speed</p>

        <label>Mode</label>
        <select id="mode" onchange="resetTest()">
          <option value="sentence">Sentence (Fun)</option>
          <option value="word">Word by Word (Easy)</option>
        </select>

        <p id="quote"></p>

        <label>Start typing</label>
        <input
          type="text"
          id="input"
          placeholder="Start typing here..."
          oninput="handleTyping()"
        >

        <button onclick="resetTest()">Reset</button>

        <p id="result" class="result"></p>
      </div>

      <div style="text-align:center; margin-top:15px;">
        <a href="../index.html" class="home-btn">‚Üê Back to Home</a>
      </div>

    </main>
  </div>

  <aside class="sidebar">
    <a href="password-strength.html" class="quick-box">üí≥ Password Stregth</a>
    <a href="unit-converter.html" class="quick-box">üìê Unit Converter</a>
  </aside>

</div>

<section class="content">
  <h2>Online Typing Speed Test</h2>
  <p>
    Practice typing with random sentences or simple word-by-word mode.
    Improve speed, accuracy, and consistency.
  </p>
</section>

<script>
const sentences = [
  "The quick brown fox jumps over the lazy dog",
  "Typing fast is a useful skill in daily life",
  "Practice every day to improve your typing speed",
  "Clean code is better than clever code",
  "Consistency beats motivation every single time"
];

let startTime = null;
let currentText = "";
let wordIndex = 0;
let words = [];

function getRandomSentence() {
  return sentences[Math.floor(Math.random() * sentences.length)];
}

function resetTest() {
  startTime = null;
  wordIndex = 0;
  document.getElementById("input").value = "";
  document.getElementById("result").innerText = "";

  const mode = document.getElementById("mode").value;

  if (mode === "sentence") {
    currentText = getRandomSentence();
    document.getElementById("quote").innerText = currentText;
  } else {
    currentText = getRandomSentence();
    words = currentText.split(" ");
    document.getElementById("quote").innerText = words[wordIndex];
  }
}

function handleTyping() {
  const input = document.getElementById("input").value.trim();
  const mode = document.getElementById("mode").value;

  if (!startTime) startTime = new Date();

  if (mode === "sentence") {
    if (input === currentText) finishTest();
  } else {
    if (input === words[wordIndex]) {
      wordIndex++;
      document.getElementById("input").value = "";
      if (wordIndex < words.length) {
        document.getElementById("quote").innerText = words[wordIndex];
      } else {
        finishTest();
      }
    }
  }
}

function finishTest() {
  const endTime = new Date();
  const timeTaken = (endTime - startTime) / 1000;
  const wordCount = currentText.split(" ").length;
  const wpm = Math.round((wordCount / timeTaken) * 60);

  document.getElementById("result").innerText =
    `Typing Speed: ${wpm} WPM`;

  startTime = null;
}

resetTest();
</script>

</body>
</html>
